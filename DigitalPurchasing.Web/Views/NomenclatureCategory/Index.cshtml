@model object

<div id="app">

    <a asp-action="Create" class="btn btn-default">Create</a>

    <vuetable ref="vuetable"
              api-url="@Url.Action("Data")"
              :fields="fields"
              :sort-order="sortOrder"
              pagination-path=""
              :css="css"
              @@vuetable:pagination-data="onPaginationData">
    </vuetable>
    <div>
        <vuetable-pagination-info ref="paginationInfo"
                                  info-class="pull-left"
                                  :css="css.pagination">
        </vuetable-pagination-info>
        <vuetable-pagination ref="pagination"
                             :css="css.pagination"
                             @@vuetable-pagination:change-page="onChangePage">
        </vuetable-pagination>
    </div>
</div>


@section Scripts {
    <script>
        (function () {
            Vue.use(Vuetable);

            window.app = new Vue({
                el: '#app',
                data: function () {
                    return {
                        css: cssTable,
                        fields: [
                            {
                                title: 'Name',
                                name: 'name',
                                sortField: 'Name'
                            },
                            {
                                title: 'Parent',
                                name: 'parentName',
                                sortField: 'ParentName'
                            },
                        ],
                        sortOrder: [
                            {
                                field: 'Name',
                                direction: 'asc'
                            }
                        ]
                    }
                },
                methods: {
                    onPaginationData(paginationData) {
                        this.$refs.pagination.setPaginationData(paginationData);
                        this.$refs.paginationInfo.setPaginationData(paginationData);
                    },
                    onChangePage(page) {
                        this.$refs.vuetable.changePage(page);
                    }
                }
            });
        })();
    </script>
}
